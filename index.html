<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>YouTube Video Downloader</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
    <style>
        body {
            background-color: #f8f9fa;
            font-family: Arial, sans-serif;
        }
        .container {
            max-width: 600px;
            margin-top: 20px;
        }
        #video-info img {
            max-width: 100%;
            height: auto;
        }
        .download-btn {
            margin: 5px;
        }
    </style>
</head>
<body>
    <div class="container">
        <h1 class="text-center my-4">YouTube Video Downloader</h1>
        <div class="input-group mb-3">
            <input type="text" id="video-url" class="form-control" placeholder="Paste YouTube URL here">
            <button class="btn btn-primary" onclick="getVideo()">Get Video</button>
        </div>
        <div id="video-info" class="mt-3"></div>
        <div id="download-links" class="mt-3"></div>
        <div id="error" class="text-danger mt-3"></div>
    </div>

    <script>
        async function getVideo() {
            const url = document.getElementById('video-url').value;
            const videoInfoDiv = document.getElementById('video-info');
            const downloadLinksDiv = document.getElementById('download-links');
            const errorDiv = document.getElementById('error');

            // Clear previous results
            videoInfoDiv.innerHTML = '';
            downloadLinksDiv.innerHTML = '';
            errorDiv.innerHTML = '';

            // Validate URL
            if (!url.includes('youtube.com') && !url.includes('youtu.be')) {
                errorDiv.innerHTML = 'Please enter a valid YouTube URL';
                return;
            }

            try {
                // Replace with your RapidAPI endpoint and key
                const response = await fetch('https://youtube-downloader-api.p.rapidapi.com/api?url=' + encodeURIComponent(url), {
                    method: 'GET',
                    headers: {
                        'X-RapidAPI-Key': 'YOUR_API_KEY',
                        'X-RapidAPI-Host': 'youtube-downloader-api.p.rapidapi.com'
                    }
                });

                const data = await response.json();

                if (data.error) {
                    errorDiv.innerHTML = data.error;
                    return;
                }

                // Display video info
                videoInfoDiv.innerHTML = `
                    <img src="${data.thumbnail}" alt="Thumbnail" class="img-fluid">
                    <h5>${data.title}</h5>
                `;

                // Display download links
                data.formats.forEach(format => {
                    downloadLinksDiv.innerHTML += `
                        <a href="${format.url}" class="btn btn-success download-btn" target="_blank">
                            Download ${format.quality} (${format.format})
                        </a>
                    `;
                });
            } catch (error) {
                errorDiv.innerHTML = 'Error fetching video. Please try again.';
                console.error(error);
            }
        }
    </script>
</body>
</html>
